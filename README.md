# LOVE20 Extension - Pool（矿池扩展协议）

基于 LOVE20 扩展协议的 矿池扩展合约。

让一个行动，可以通过矿池的方式来参与行动铸币。

矿工可自由加入退出所选矿池，进行可验证的共识行动，矿池主每轮对矿工进行验证，矿工获得行动激励，矿池主获得矿池服务激励，支持此行动的治理者，可以监督矿池主，通过不信任投票降低矿池整体收益。

## 治理者

### 不信任投票

完成验证的治理者，可以对每个矿池进行不信任投票，最多不超过自己的验证票数，以惩罚未按照行动规则进行验证的矿池，降低矿池包括矿池主和矿工在内的整体可分配行动激励。

降低的比例 = 当轮累计获得的不信任票 / 当轮非弃权的行动验证总票数

## 矿池主

### 矿池创建

治理者可以创建一个或多个矿池成为矿池主，并设定矿池说明、佣金率、矿工最小参与量，其中只有矿池说明可更新修改。矿池创建时，需无偿质押代币，并根据质押代币倍数，决定矿池的最大容量

### 矿池扩容

矿池主可追加质押，增加矿池容量上限。矿工加入矿池时，如果超出矿池容量，将无法加入。

矿池容量 = 矿池主累计质押量 \* 容量倍数

### 矿池验证

每轮的验证阶段，矿池主基于行动的验证规则，验证自己管理的矿池中每个矿工的可验证共识行动，给予打分，决定每个矿工的铸币量。

### 矿池服务激励铸造

矿池主每轮铸造矿池服务激励，并同步销毁不信任票对应的矿池服务激励。

矿池服务激励 = 矿池理论铸币激励 \* 矿池服务费率 \* （1 - 不信任票/ 行动总验证票）

矿池激励销毁 = 矿池理论铸币激励 \* 不信任票/ 行动验证票

矿池理论铸币激励 = 矿池代币参与量 / 所有矿池代币参与总量 \* 行动铸币激励

### 矿池停止

矿池主可随时停止矿池，取回矿池质押代币。

矿池停止后，矿工可继续领取之前未领取的行动铸币激励。

已停止的矿池，矿工无法加入，现有矿工也无法追加代币。

### 注意

- 成为矿池主资格：矿池主治理票占比需达到合约设定的矿池主最小治理票占比要求
- 单个矿池最小容量：不小于矿池主最小治理票占比所对应的最大矿池容量
- 最大质押量：矿池主下所有矿池的累计质押量不超过：已铸造代币总量 \* 矿池主治理票占比 \* 系数 / 100

## 矿工

## 加入矿池

矿工可以通过矿池 id，将代币放入矿池进行挖矿

注意：同一个行动下，只能参与一个矿池的挖矿，不可以同时参与多个矿池。

## 铸造行动激励

每轮矿工可以铸造自己的行动激励

矿工铸造激励 = 矿工本轮得分 / 矿池总得分 \* 矿池理论铸币激励 \* （1-矿池服务费率） \* （1-不信任票/行动总验证票）

## 退出矿池

退出矿池并返还累计参与的所有代币
