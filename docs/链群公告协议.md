# 链群公告协议

## 1. 关于协议

链群公告协议为链群生态提供公告能力，链群服务者可对自己持有的链群发布公告，公告一经发布不可修改，任何人可按页分页查询。

- 独立部署：GroupNotice 合约单独部署，其他合约无需依赖或存储其地址
- 只增不改：公告只支持新增，不支持编辑或删除
- 分页查询：支持按 offset、limit 分页获取

## 2. 发布条件

链群服务者（链群 NFT 持有者）可对任意 `(tokenAddress, actionId, groupId)` 发布公告。合约仅校验 `ownerOf(groupId) == msg.sender`，不校验链群是否在该行动下激活。

## 3. 公告内容

- 格式：string
- 最大长度：4096 字节（MAX_CONTENT_LENGTH）
- 不可为空

## 4. 分页查询

`getNotices(tokenAddress, actionId, groupId, offset, limit)`：

- `offset`：起始索引（从 0 开始）
- `limit`：本次返回条数
- 返回：`(contents[], timestamps[], blockNumbers[], publishers[], totalCount)`
- `totalCount` 为总条数，便于前端计算分页
- 建议 limit 不超过 50

## 5. 事件

`Publish(tokenAddress, actionId, groupId, publisher, index, blockNumber, timestamp, content)`
